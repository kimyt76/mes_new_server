<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jct.mes_new.biz.common.mapper.MenuMapper">


    <select id="getMenuListByUser">
        SELECT
            m.menu_id ,
            m.parent_id,
            m.menu_name,
            m.menu_path,
            m.route_name,
            m.icon,
            m.sort_order,
            a.read_yn as readYn,
            a.write_yn as writeYn
        FROM tb_menu_mst m
                 INNER JOIN tb_menu_auth a ON m.menu_id = a.menu_id
        WHERE a.user_id = #{userId}
          AND a.read_yn = 'Y'
        ORDER BY m.sort_order
    </select>

</mapper>