<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.jct.mes_new.biz.common.mapper.MenuMapper">

    <select id="getMenus">
        SELECT m.menu_id,
               m.parent_id,
               m.menu_name,
               m.menu_path,
               m.icon,
               a.read_yn,
               a.write_yn
        FROM tb_menu m
             JOIN tb_user_menu_auth a
             ON m.menu_id = a.menu_id
        WHERE  a.read_yn ='Y'
        and    a.user_id = #{userId}
    </select>

</mapper>